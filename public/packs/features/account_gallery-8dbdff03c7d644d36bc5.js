webpackJsonp([16],{149:function(e,o,n){"use strict";n.d(o,"a",function(){return f});var t=n(2),a=n.n(t),i=n(1),r=n.n(i),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(0),p=n.n(d),f=function(e){function o(){var n,t,a;r()(this,o);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=t=c()(this,e.call.apply(e,[this].concat(s))),t.handleClick=function(){t.props.onClick()},a=n,c()(t,a)}return u()(o,e),o.prototype.render=function(){var e=this.props,o=e.type,n=e.active,t=e.columnHeaderId,i="";return this.props.icon&&(i=a()("i",{className:"fa fa-fw fa-"+this.props.icon+" column-header__icon"})),a()("div",{role:"heading",tabIndex:"0",className:"column-header "+(n?"active":""),onClick:this.handleClick,id:t||null},void 0,i,o)},o}(p.a.PureComponent)},264:function(e,o,n){"use strict";n.d(o,"a",function(){return b});var t=n(2),a=n.n(t),i=n(1),r=n.n(i),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(43),p=n.n(d),f=n(0),m=n.n(f),h=n(149),g=n(91),v=n(33),b=function(e){function o(){var n,t,a;r()(this,o);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=t=c()(this,e.call.apply(e,[this].concat(s))),t.handleHeaderClick=function(){var e=t.node.querySelector(".scrollable");e&&(t._interruptScrollAnimation=Object(g.b)(e))},t.handleScroll=p()(function(){void 0!==t._interruptScrollAnimation&&t._interruptScrollAnimation()},200),t.setRef=function(e){t.node=e},a=n,c()(t,a)}return u()(o,e),o.prototype.scrollTop=function(){var e=this.node.querySelector(".scrollable");e&&(this._interruptScrollAnimation=Object(g.b)(e))},o.prototype.render=function(){var e=this.props,o=e.heading,n=e.icon,t=e.children,i=e.active,r=e.hideHeadingOnMobile,s=o&&(!r||r&&!Object(v.b)(window.innerWidth)),c=s&&o.replace(/ /g,"-"),l=s&&a()(h.a,{icon:n,active:i,type:o,onClick:this.handleHeaderClick,columnHeaderId:c});return m.a.createElement("div",{ref:this.setRef,role:"region","aria-labelledby":c,className:"column",onScroll:this.handleScroll},l,t)},o}(m.a.PureComponent)},265:function(e,o,n){"use strict";n.d(o,"a",function(){return g});var t,a,i=n(2),r=n.n(i),s=n(1),c=n.n(s),l=n(3),u=n.n(l),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(5),g=(a=t=function(e){function o(){return c()(this,o),u()(this,e.apply(this,arguments))}return p()(o,e),o.prototype.render=function(){var e=this.props.visible;return r()("button",{className:"load-more",disabled:!e,style:{visibility:e?"visible":"hidden"},onClick:this.props.onClick},void 0,r()(h.b,{id:"status.load_more",defaultMessage:"Load more"}))},o}(m.a.PureComponent),t.defaultProps={visible:!0},a)},805:function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),n.d(o,"default",function(){return x});var t,a,i,r,s=n(2),c=n.n(s),l=n(1),u=n.n(l),d=n(3),p=n.n(d),f=n(4),m=n.n(f),h=n(0),g=(n.n(h),n(9)),v=n(12),b=n.n(v),M=n(7),y=n.n(M),_=n(20),k=n(16),w=n(276),I=n(264),O=n(822),j=n(11),C=n.n(j),N=n(69),R=n(938),q=n(824),B=n(5),S=n(151),D=(n.n(S),n(265)),F=function(e,o){return{medias:Object(N.a)(e,o.params.accountId),isLoading:e.getIn(["timelines","account:"+o.params.accountId+":media","isLoading"]),hasMore:!!e.getIn(["timelines","account:"+o.params.accountId+":media","next"]),autoPlayGif:e.getIn(["meta","auto_play_gif"])}},x=(t=Object(g.connect)(F))((r=i=function(e){function o(){var n,t,a;u()(this,o);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t=p()(this,e.call.apply(e,[this].concat(r))),t.handleScrollToBottom=function(){t.props.hasMore&&t.props.dispatch(Object(k.p)(t.props.params.accountId))},t.handleScroll=function(e){var o=e.target,n=o.scrollTop;150>o.scrollHeight-n-o.clientHeight&&!t.props.isLoading&&t.handleScrollToBottom()},t.handleLoadMore=function(e){e.preventDefault(),t.handleScrollToBottom()},a=n,p()(t,a)}return m()(o,e),o.prototype.componentDidMount=function(){this.props.dispatch(Object(_.v)(this.props.params.accountId)),this.props.dispatch(Object(k.v)(this.props.params.accountId))},o.prototype.componentWillReceiveProps=function(e){e.params.accountId!==this.props.params.accountId&&e.params.accountId&&(this.props.dispatch(Object(_.v)(e.params.accountId)),this.props.dispatch(Object(k.v)(this.props.params.accountId)))},o.prototype.render=function(){var e=this.props,o=e.medias,n=e.autoPlayGif,t=e.isLoading,a=e.hasMore,i=null;return!o&&t?c()(I.a,{},void 0,c()(w.a,{})):(!t&&o.size>0&&a&&(i=c()(D.a,{onClick:this.handleLoadMore})),c()(I.a,{},void 0,c()(O.a,{}),c()(S.ScrollContainer,{scrollKey:"account_gallery"},void 0,c()("div",{className:"scrollable",onScroll:this.handleScroll},void 0,c()(q.a,{accountId:this.props.params.accountId}),c()("div",{className:"account-section-headline"},void 0,c()(B.b,{id:"account.media",defaultMessage:"Media"})),c()("div",{className:"account-gallery__container"},void 0,o.map(function(e){return c()(R.a,{media:e,autoPlayGif:n},e.get("id"))}),i)))))},o}(C.a),i.propTypes={params:y.a.object.isRequired,dispatch:y.a.func.isRequired,medias:b.a.list.isRequired,isLoading:y.a.bool,hasMore:y.a.bool,autoPlayGif:y.a.bool},a=r))||a},822:function(e,o,n){"use strict";n.d(o,"a",function(){return b});var t,a,i=n(2),r=n.n(i),s=n(1),c=n.n(s),l=n(3),u=n.n(l),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(5),g=n(7),v=n.n(g),b=(a=t=function(e){function o(){var n,t,a;c()(this,o);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t=u()(this,e.call.apply(e,[this].concat(r))),t.handleClick=function(){window.history&&1===window.history.length?t.context.router.history.push("/"):t.context.router.history.goBack()},a=n,u()(t,a)}return p()(o,e),o.prototype.render=function(){return r()("button",{onClick:this.handleClick,className:"column-back-button"},void 0,r()("i",{className:"fa fa-fw fa-chevron-left column-back-button__icon"}),r()(h.b,{id:"column_back_button.label",defaultMessage:"Back"}))},o}(m.a.PureComponent),t.contextTypes={router:v.a.object},a)},823:function(e,o,n){"use strict";var t=n(2),a=n.n(t),i=n(0),r=(n.n(i),n(5)),s=function(){return a()("div",{className:"missing-indicator"},void 0,a()("div",{},void 0,a()(r.b,{id:"missing_indicator.label",defaultMessage:"Not found"})))};o.a=s},824:function(e,o,n){"use strict";var t=n(2),a=n.n(t),i=n(0),r=(n.n(i),n(9)),s=n(69),c=n(825),l=n(20),u=n(15),d=n(150),p=n(31),f=n(290),m=n(5),h=Object(m.f)({unfollowConfirm:{id:"confirmations.unfollow.confirm",defaultMessage:"Unfollow"},blockConfirm:{id:"confirmations.block.confirm",defaultMessage:"Block"},muteConfirm:{id:"confirmations.mute.confirm",defaultMessage:"Mute"},blockDomainConfirm:{id:"confirmations.domain_block.confirm",defaultMessage:"Hide entire domain"}}),g=function(){var e=Object(s.c)();return function(o,n){var t=n.accountId;return{account:e(o,t),me:o.getIn(["meta","me"]),unfollowModal:o.getIn(["meta","unfollow_modal"])}}},v=function(e,o){var n=o.intl;return{onFollow:function(o){e(o.getIn(["relationship","following"])||o.getIn(["relationship","requested"])?this.unfollowModal?Object(p.d)("CONFIRM",{message:a()(m.b,{id:"confirmations.unfollow.message",defaultMessage:"Are you sure you want to unfollow {name}?",values:{name:a()("strong",{},void 0,"@",o.get("acct"))}}),confirm:n.formatMessage(h.unfollowConfirm),onConfirm:function(){return e(Object(l.E)(o.get("id")))}}):Object(l.E)(o.get("id")):Object(l.A)(o.get("id")))},onBlock:function(o){e(o.getIn(["relationship","blocking"])?Object(l.D)(o.get("id")):Object(p.d)("CONFIRM",{message:a()(m.b,{id:"confirmations.block.message",defaultMessage:"Are you sure you want to block {name}?",values:{name:a()("strong",{},void 0,"@",o.get("acct"))}}),confirm:n.formatMessage(h.blockConfirm),onConfirm:function(){return e(Object(l.r)(o.get("id")))}}))},onMention:function(o,n){e(Object(u.M)(o,n))},onReport:function(o){e(Object(d.i)(o))},onMute:function(o){e(o.getIn(["relationship","muting"])?Object(l.F)(o.get("id")):Object(p.d)("CONFIRM",{message:a()(m.b,{id:"confirmations.mute.message",defaultMessage:"Are you sure you want to mute {name}?",values:{name:a()("strong",{},void 0,"@",o.get("acct"))}}),confirm:n.formatMessage(h.muteConfirm),onConfirm:function(){return e(Object(l.B)(o.get("id")))}}))},onBlockDomain:function(o,t){e(Object(p.d)("CONFIRM",{message:a()(m.b,{id:"confirmations.domain_block.message",defaultMessage:"Are you really, really sure you want to block the entire {domain}? In most cases a few targeted blocks or mutes are sufficient and preferable.",values:{domain:a()("strong",{},void 0,o)}}),confirm:n.formatMessage(h.blockDomainConfirm),onConfirm:function(){return e(Object(f.c)(o,t))}}))},onUnblockDomain:function(o,n){e(Object(f.d)(o,n))}}};o.a=Object(m.g)(Object(r.connect)(g,v)(c.a))},825:function(e,o,n){"use strict";n.d(o,"a",function(){return w});var t,a,i=n(2),r=n.n(i),s=n(1),c=n.n(s),l=n(3),u=n.n(l),d=n(4),p=n.n(d),f=n(0),m=(n.n(f),n(12)),h=n.n(m),g=n(7),v=n.n(g),b=n(826),M=n(827),y=n(823),_=n(11),k=n.n(_),w=(a=t=function(e){function o(){var n,t,a;c()(this,o);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t=u()(this,e.call.apply(e,[this].concat(r))),t.handleFollow=function(){t.props.onFollow(t.props.account)},t.handleBlock=function(){t.props.onBlock(t.props.account)},t.handleMention=function(){t.props.onMention(t.props.account,t.context.router.history)},t.handleReport=function(){t.props.onReport(t.props.account)},t.handleMute=function(){t.props.onMute(t.props.account)},t.handleBlockDomain=function(){var e=t.props.account.get("acct").split("@")[1];e&&t.props.onBlockDomain(e,t.props.account.get("id"))},t.handleUnblockDomain=function(){var e=t.props.account.get("acct").split("@")[1];e&&t.props.onUnblockDomain(e,t.props.account.get("id"))},a=n,u()(t,a)}return p()(o,e),o.prototype.render=function(){var e=this.props,o=e.account,n=e.me;return null===o?r()(y.a,{}):r()("div",{className:"account-timeline__header"},void 0,r()(b.a,{account:o,me:n,onFollow:this.handleFollow}),r()(M.a,{account:o,me:n,onBlock:this.handleBlock,onMention:this.handleMention,onReport:this.handleReport,onMute:this.handleMute,onBlockDomain:this.handleBlockDomain,onUnblockDomain:this.handleUnblockDomain}))},o}(k.a),t.propTypes={account:h.a.map,me:v.a.string.isRequired,onFollow:v.a.func.isRequired,onBlock:v.a.func.isRequired,onMention:v.a.func.isRequired,onReport:v.a.func.isRequired,onMute:v.a.func.isRequired,onBlockDomain:v.a.func.isRequired,onUnblockDomain:v.a.func.isRequired},t.contextTypes={router:v.a.object},a)},826:function(e,o,n){"use strict";n.d(o,"a",function(){return D});var t,a,i,r,s,c,l=n(2),u=n.n(l),d=n(1),p=n.n(d),f=n(3),m=n.n(f),h=n(4),g=n.n(h),v=n(0),b=(n.n(v),n(12)),M=n.n(b),y=n(7),_=n.n(y),k=n(5),w=n(18),I=n(25),O=n(26),j=n.n(O),C=n(9),N=n(11),R=n.n(N),q=Object(k.f)({unfollow:{id:"account.unfollow",defaultMessage:"Unfollow"},follow:{id:"account.follow",defaultMessage:"Follow"},requested:{id:"account.requested",defaultMessage:"Awaiting approval. Click to cancel follow request"}}),B=function(){return function(e){return{autoPlayGif:e.getIn(["meta","auto_play_gif"])}}},S=(a=t=function(e){function o(){var n,t,a;p()(this,o);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t=m()(this,e.call.apply(e,[this].concat(r))),t.state={isHovered:!1},t.handleMouseOver=function(){t.state.isHovered||t.setState({isHovered:!0})},t.handleMouseOut=function(){t.state.isHovered&&t.setState({isHovered:!1})},a=n,m()(t,a)}return g()(o,e),o.prototype.render=function(){var e=this,o=this.props,n=o.account,t=o.autoPlayGif,a=this.state.isHovered;return u()(I.a,{defaultStyle:{radius:90},style:{radius:j()(a?30:90,{stiffness:180,damping:12})}},void 0,function(o){var i=o.radius;return u()("a",{href:n.get("url"),className:"account__header__avatar",role:"presentation",target:"_blank",rel:"noopener",style:{borderRadius:i+"px",backgroundImage:"url("+(t||a?n.get("avatar"):n.get("avatar_static"))+")"},onMouseOver:e.handleMouseOver,onMouseOut:e.handleMouseOut,onFocus:e.handleMouseOver,onBlur:e.handleMouseOut},void 0,u()("span",{style:{display:"none"}},void 0,n.get("acct")))})},o}(R.a),t.propTypes={account:M.a.map.isRequired,autoPlayGif:_.a.bool.isRequired},a),D=(i=Object(C.connect)(B))(r=Object(k.g)((c=s=function(e){function o(){return p()(this,o),m()(this,e.apply(this,arguments))}return g()(o,e),o.prototype.render=function(){var e=this.props,o=e.account,n=e.me,t=e.intl;if(!o)return null;var a="",i="",r="";n!==o.get("id")&&o.getIn(["relationship","followed_by"])&&(a=u()("span",{className:"account--follows-info"},void 0,u()(k.b,{id:"account.follows_you",defaultMessage:"Follows you"}))),n!==o.get("id")&&(o.getIn(["relationship","requested"])?i=u()("div",{className:"account--action-button"},void 0,u()(w.a,{size:26,active:!0,icon:"hourglass",title:t.formatMessage(q.requested),onClick:this.props.onFollow})):o.getIn(["relationship","blocking"])||(i=u()("div",{className:"account--action-button"},void 0,u()(w.a,{size:26,icon:o.getIn(["relationship","following"])?"user-times":"user-plus",active:o.getIn(["relationship","following"]),title:t.formatMessage(o.getIn(["relationship","following"])?q.unfollow:q.follow),onClick:this.props.onFollow})))),o.get("locked")&&(r=u()("i",{className:"fa fa-lock"}));var s={__html:o.get("note_emojified")},c={__html:o.get("display_name_html")};return u()("div",{className:"account__header",style:{backgroundImage:"url("+o.get("header")+")"}},void 0,u()("div",{},void 0,u()(S,{account:o,autoPlayGif:this.props.autoPlayGif}),u()("span",{className:"account__header__display-name",dangerouslySetInnerHTML:c}),u()("span",{className:"account__header__username"},void 0,"@",o.get("acct")," ",r),u()("div",{className:"account__header__content",dangerouslySetInnerHTML:s}),a,i))},o}(R.a),s.propTypes={account:M.a.map,me:_.a.string.isRequired,onFollow:_.a.func.isRequired,intl:_.a.object.isRequired,autoPlayGif:_.a.bool.isRequired},r=c))||r)||r},827:function(e,o,n){"use strict";n.d(o,"a",function(){return b});var t,a=n(2),i=n.n(a),r=n(1),s=n.n(r),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),f=n.n(p),m=n(289),h=n(57),g=n(5),v=Object(g.f)({mention:{id:"account.mention",defaultMessage:"Mention @{name}"},edit_profile:{id:"account.edit_profile",defaultMessage:"Edit profile"},unblock:{id:"account.unblock",defaultMessage:"Unblock @{name}"},unfollow:{id:"account.unfollow",defaultMessage:"Unfollow"},unmute:{id:"account.unmute",defaultMessage:"Unmute @{name}"},block:{id:"account.block",defaultMessage:"Block @{name}"},mute:{id:"account.mute",defaultMessage:"Mute @{name}"},follow:{id:"account.follow",defaultMessage:"Follow"},report:{id:"account.report",defaultMessage:"Report @{name}"},share:{id:"account.share",defaultMessage:"Share @{name}'s profile"},media:{id:"account.media",defaultMessage:"Media"},blockDomain:{id:"account.block_domain",defaultMessage:"Hide everything from {domain}"},unblockDomain:{id:"account.unblock_domain",defaultMessage:"Unhide {domain}"}}),b=Object(g.g)(t=function(e){function o(){var n,t,a;s()(this,o);for(var i=arguments.length,r=Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=t=l()(this,e.call.apply(e,[this].concat(r))),t.handleShare=function(){navigator.share({url:t.props.account.get("url")})},a=n,l()(t,a)}return d()(o,e),o.prototype.render=function(){var e=this.props,o=e.account,n=e.me,t=e.intl,a=[],r="";if(a.push({text:t.formatMessage(v.mention,{name:o.get("username")}),action:this.props.onMention}),"share"in navigator&&a.push({text:t.formatMessage(v.share,{name:o.get("username")}),action:this.handleShare}),a.push(null),a.push({text:t.formatMessage(v.media),to:"/accounts/"+o.get("id")+"/media"}),a.push(null),o.get("id")===n?a.push({text:t.formatMessage(v.edit_profile),href:"/settings/profile"}):(o.getIn(["relationship","muting"])?a.push({text:t.formatMessage(v.unmute,{name:o.get("username")}),action:this.props.onMute}):a.push({text:t.formatMessage(v.mute,{name:o.get("username")}),action:this.props.onMute}),o.getIn(["relationship","blocking"])?a.push({text:t.formatMessage(v.unblock,{name:o.get("username")}),action:this.props.onBlock}):a.push({text:t.formatMessage(v.block,{name:o.get("username")}),action:this.props.onBlock}),a.push({text:t.formatMessage(v.report,{name:o.get("username")}),action:this.props.onReport})),o.get("acct")!==o.get("username")){var s=o.get("acct").split("@")[1];r=i()("div",{className:"account__disclaimer"},void 0,i()(g.b,{id:"account.disclaimer_full",defaultMessage:"Information below may reflect the user's profile incompletely."})," ",i()("a",{target:"_blank",rel:"noopener",href:o.get("url")},void 0,i()(g.b,{id:"account.view_full_profile",defaultMessage:"View full profile"}))),a.push(null),o.getIn(["relationship","domain_blocking"])?a.push({text:t.formatMessage(v.unblockDomain,{domain:s}),action:this.props.onUnblockDomain}):a.push({text:t.formatMessage(v.blockDomain,{domain:s}),action:this.props.onBlockDomain})}return i()("div",{},void 0,r,i()("div",{className:"account__action-bar"},void 0,i()("div",{className:"account__action-bar-dropdown"},void 0,i()(m.a,{items:a,icon:"bars",size:24,direction:"right"})),i()("div",{className:"account__action-bar-links"},void 0,i()(h.Link,{className:"account__action-bar__tab",to:"/accounts/"+o.get("id")},void 0,i()("span",{},void 0,i()(g.b,{id:"account.posts",defaultMessage:"Posts"})),i()("strong",{},void 0,i()(g.c,{value:o.get("statuses_count")}))),i()(h.Link,{className:"account__action-bar__tab",to:"/accounts/"+o.get("id")+"/following"},void 0,i()("span",{},void 0,i()(g.b,{id:"account.follows",defaultMessage:"Follows"})),i()("strong",{},void 0,i()(g.c,{value:o.get("following_count")}))),i()(h.Link,{className:"account__action-bar__tab",to:"/accounts/"+o.get("id")+"/followers"},void 0,i()("span",{},void 0,i()(g.b,{id:"account.followers",defaultMessage:"Followers"})),i()("strong",{},void 0,i()(g.c,{value:o.get("followers_count")}))))))},o}(f.a.PureComponent))||t},938:function(e,o,n){"use strict";n.d(o,"a",function(){return M});var t,a,i=n(2),r=n.n(i),s=n(1),c=n.n(s),l=n(3),u=n.n(l),d=n(4),p=n.n(d),f=n(0),m=(n.n(f),n(12)),h=n.n(m),g=n(11),v=n.n(g),b=n(275),M=(a=t=function(e){function o(){return c()(this,o),u()(this,e.apply(this,arguments))}return p()(o,e),o.prototype.render=function(){var e=this.props.media,o=e.get("status"),n=void 0,t=void 0;return"gifv"===e.get("type")&&(n=r()("span",{className:"media-gallery__gifv__label"},void 0,"GIF")),o.get("sensitive")||(t={backgroundImage:"url("+e.get("preview_url")+")"}),r()("div",{className:"account-gallery__item"},void 0,r()(b.a,{to:"/statuses/"+o.get("id"),href:o.get("url"),style:t},void 0,n))},o}(v.a),t.propTypes={media:h.a.map.isRequired},a)}});
//# sourceMappingURL=account_gallery-8dbdff03c7d644d36bc5.js.map