webpackJsonp([11,27],{1083:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var o,a,i=n(1),r=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=(n.n(f),n(5)),g=n.n(h),m=n(21),v=n.n(m),b=n(71),y=n(73),_=n(117),M=n(180),O=n(1084),C=n(308),j=n.n(C),k=n(7),w=n(1085),x=n(16),N=n.n(x),R=n(119),I=(a=o=function(e){function t(){var n,o,a;l()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=u()(this,e.call.apply(e,[this].concat(r))),o.handleAccountClick=function(e){0===e.button&&(e.preventDefault(),o.context.router.history.push("/accounts/"+o.props.status.getIn(["account","id"]))),e.stopPropagation()},o.handleOpenVideo=function(e){o.props.onOpenVideo(o.props.status.getIn(["media_attachments",0]),e)},a=n,u()(o,a)}return p()(t,e),t.prototype.render=function(){var e=this.props.status.get("reblog")?this.props.status.get("reblog"):this.props.status,t="",n="";if(e.get("media_attachments").size>0)if(e.get("media_attachments").some(function(e){return"unknown"===e.get("type")}))t=r()(O.a,{media:e.get("media_attachments")});else if("video"===e.getIn(["media_attachments",0,"type"])){var o=e.getIn(["media_attachments",0]);t=r()(R.default,{preview:o.get("preview_url"),src:o.get("url"),width:300,height:150,onOpenVideo:this.handleOpenVideo,sensitive:e.get("sensitive")})}else t=r()(M.default,{sensitive:e.get("sensitive"),media:e.get("media_attachments"),height:300,onOpenMedia:this.props.onOpenMedia,autoPlayGif:this.props.autoPlayGif});else 0===e.get("spoiler_text").length&&(t=r()(w.a,{statusId:e.get("id")}));return e.get("application")&&(n=r()("span",{},void 0," · ",r()("a",{className:"detailed-status__application",href:e.getIn(["application","website"]),target:"_blank",rel:"noopener"},void 0,e.getIn(["application","name"])))),r()("div",{className:"detailed-status"},void 0,r()("a",{href:e.getIn(["account","url"]),onClick:this.handleAccountClick,className:"detailed-status__display-name"},void 0,r()("div",{className:"detailed-status__display-avatar"},void 0,r()(b.a,{account:e.get("account"),size:48})),r()(y.a,{account:e.get("account")})),r()(_.a,{status:e}),t,r()("div",{className:"detailed-status__meta"},void 0,r()("a",{className:"detailed-status__datetime",href:e.get("url"),target:"_blank",rel:"noopener"},void 0,r()(k.a,{value:new Date(e.get("created_at")),hour12:!1,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})),n," · ",r()(j.a,{to:"/statuses/"+e.get("id")+"/reblogs",className:"detailed-status__link"},void 0,r()("i",{className:"fa fa-retweet"}),r()("span",{className:"detailed-status__reblogs"},void 0,r()(k.c,{value:e.get("reblogs_count")})))," · ",r()(j.a,{to:"/statuses/"+e.get("id")+"/favourites",className:"detailed-status__link"},void 0,r()("i",{className:"fa fa-star"}),r()("span",{className:"detailed-status__favorites"},void 0,r()(k.c,{value:e.get("favourites_count")})))))},t}(N.a),o.contextTypes={router:g.a.object},o.propTypes={status:v.a.map.isRequired,onOpenMedia:g.a.func.isRequired,onOpenVideo:g.a.func.isRequired,autoPlayGif:g.a.bool},a)},1084:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o,a,i=n(1),r=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=(n.n(f),n(21)),g=n.n(h),m=n(16),v=n.n(m),b=function(e){return e.split("/").pop().split("#")[0].split("?")[0]},y=(a=o=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.media;return r()("div",{className:"attachment-list"},void 0,r()("div",{className:"attachment-list__icon"},void 0,r()("i",{className:"fa fa-link"})),r()("ul",{className:"attachment-list__list"},void 0,e.map(function(e){return r()("li",{},e.get("id"),r()("a",{href:e.get("remote_url"),target:"_blank",rel:"noopener"},void 0,b(e.get("remote_url"))))})))},t}(v.a),o.propTypes={media:g.a.list.isRequired},a)},1085:function(e,t,n){"use strict";var o=n(12),a=n(329),i=function(e,t){var n=t.statusId;return{card:e.getIn(["cards",n],null)}};t.a=Object(o.connect)(i)(a.a)},1086:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o,a,i,r=n(1),s=n.n(r),l=n(2),c=n.n(l),u=n(3),d=n.n(u),p=n(4),f=n.n(p),h=n(0),g=n.n(h),m=n(5),v=n.n(m),b=n(25),y=n(326),_=n(7),M=Object(_.g)({delete:{id:"status.delete",defaultMessage:"Delete"},mention:{id:"status.mention",defaultMessage:"Mention @{name}"},reply:{id:"status.reply",defaultMessage:"Reply"},reblog:{id:"status.reblog",defaultMessage:"Boost"},cannot_reblog:{id:"status.cannot_reblog",defaultMessage:"This post cannot be boosted"},favourite:{id:"status.favourite",defaultMessage:"Favourite"},report:{id:"status.report",defaultMessage:"Report @{name}"},share:{id:"status.share",defaultMessage:"Share"},pin:{id:"status.pin",defaultMessage:"Pin on profile"},unpin:{id:"status.unpin",defaultMessage:"Unpin from profile"},embed:{id:"status.embed",defaultMessage:"Embed"}}),O=Object(_.h)((i=a=function(e){function t(){var n,o,a;c()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=d()(this,e.call.apply(e,[this].concat(r))),o.handleReplyClick=function(){o.props.onReply(o.props.status)},o.handleReblogClick=function(e){o.props.onReblog(o.props.status,e)},o.handleFavouriteClick=function(){o.props.onFavourite(o.props.status)},o.handleDeleteClick=function(){o.props.onDelete(o.props.status)},o.handleMentionClick=function(){o.props.onMention(o.props.status.get("account"),o.context.router.history)},o.handleReport=function(){o.props.onReport(o.props.status)},o.handlePinClick=function(){o.props.onPin(o.props.status)},o.handleShare=function(){navigator.share({text:o.props.status.get("search_index"),url:o.props.status.get("url")})},o.handleEmbed=function(){o.props.onEmbed(o.props.status)},a=n,d()(o,a)}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.me,o=e.intl,a=["public","unlisted"].includes(t.get("visibility")),i=[];a&&i.push({text:o.formatMessage(M.embed),action:this.handleEmbed}),n===t.getIn(["account","id"])?(a&&i.push({text:o.formatMessage(t.get("pinned")?M.unpin:M.pin),action:this.handlePinClick}),i.push({text:o.formatMessage(M.delete),action:this.handleDeleteClick})):(i.push({text:o.formatMessage(M.mention,{name:t.getIn(["account","username"])}),action:this.handleMentionClick}),i.push(null),i.push({text:o.formatMessage(M.report,{name:t.getIn(["account","username"])}),action:this.handleReport}));var r="share"in navigator&&"public"===t.get("visibility")&&s()("div",{className:"detailed-status__button"},void 0,s()(b.a,{title:o.formatMessage(M.share),icon:"share-alt",onClick:this.handleShare})),l="retweet";"direct"===t.get("visibility")?l="envelope":"private"===t.get("visibility")&&(l="lock");var c="direct"===t.get("visibility")||"private"===t.get("visibility");return s()("div",{className:"detailed-status__action-bar"},void 0,s()("div",{className:"detailed-status__button"},void 0,s()(b.a,{title:o.formatMessage(M.reply),icon:null===t.get("in_reply_to_id",null)?"reply":"reply-all",onClick:this.handleReplyClick})),s()("div",{className:"detailed-status__button"},void 0,s()(b.a,{disabled:c,active:t.get("reblogged"),title:c?o.formatMessage(M.cannot_reblog):o.formatMessage(M.reblog),icon:l,onClick:this.handleReblogClick})),s()("div",{className:"detailed-status__button"},void 0,s()(b.a,{animate:!0,active:t.get("favourited"),title:o.formatMessage(M.favourite),icon:"star",onClick:this.handleFavouriteClick,activeStyle:{color:"#ca8f04"}})),r,s()("div",{className:"detailed-status__action-bar-dropdown"},void 0,s()(y.a,{size:18,icon:"ellipsis-h",items:i,direction:"left",ariaLabel:"More"})))},t}(g.a.PureComponent),a.contextTypes={router:v.a.object},o=i))||o},167:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(1),a=n.n(o),i=n(2),r=n.n(i),s=n(3),l=n.n(s),c=n(4),u=n.n(c),d=n(0),p=n.n(d),f=function(e){function t(){var n,o,a;r()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(){o.props.onClick()},a=n,l()(o,a)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.active,o=e.columnHeaderId,i="";return this.props.icon&&(i=a()("i",{className:"fa fa-fw fa-"+this.props.icon+" column-header__icon"})),a()("div",{role:"heading",tabIndex:"0",className:"column-header "+(n?"active":""),onClick:this.handleClick,id:o||null},void 0,i,t)},t}(p.a.PureComponent)},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return k});var o,a,i,r,s,l=n(1),c=n.n(l),u=n(2),d=n.n(u),p=n(3),f=n.n(p),h=n(4),g=n.n(h),m=n(0),v=n.n(m),b=n(5),y=n.n(b),_=n(25),M=n(7),O=n(41),C=Object(M.g)({toggle_visible:{id:"media_gallery.toggle_visible",defaultMessage:"Toggle visibility"}}),j=(a=o=function(e){function t(){var n,o,a;d()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(r))),o.handleMouseEnter=function(e){o.hoverToPlay()&&e.target.play()},o.handleMouseLeave=function(e){o.hoverToPlay()&&(e.target.pause(),e.target.currentTime=0)},o.handleClick=function(e){var t=o.props,n=t.index,a=t.onClick;o.context.router&&0===e.button&&(e.preventDefault(),a(n)),e.stopPropagation()},a=n,f()(o,a)}return g()(t,e),t.prototype.hoverToPlay=function(){var e=this.props,t=e.attachment;return!e.autoPlayGif&&"gifv"===t.get("type")},t.prototype.render=function(){var e=this.props,t=e.attachment,n=e.index,o=e.size,a=50,i=100,r="auto",s="auto",l="auto",u="auto";1===o&&(a=100),(4===o||3===o&&n>0)&&(i=50),2===o?0===n?u="2px":s="2px":3===o?(0===n?u="2px":n>0&&(s="2px"),1===n?l="2px":n>1&&(r="2px")):4===o&&(0!==n&&2!==n||(u="2px"),1!==n&&3!==n||(s="2px"),n<2?l="2px":r="2px");var d="";if("image"===t.get("type")){var p=t.get("preview_url"),f=t.getIn(["meta","small","width"]),h=t.get("url"),g=t.getIn(["meta","original","width"]),m="number"==typeof g&&"number"==typeof f,v=m?h+" "+g+"w, "+p+" "+f+"w":null,b=m?"(min-width: 1025px) "+a/100*320+"px, "+a+"vw":null;d=c()("a",{className:"media-gallery__item-thumbnail",href:t.get("remote_url")||h,onClick:this.handleClick,target:"_blank"},void 0,c()("img",{src:p,srcSet:v,sizes:b,alt:""}))}else if("gifv"===t.get("type")){var y=!Object(O.a)()&&this.props.autoPlayGif;d=c()("div",{className:"media-gallery__gifv "+(y?"autoplay":"")},void 0,c()("video",{className:"media-gallery__item-gifv-thumbnail",role:"application",src:t.get("url"),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,autoPlay:y,loop:!0,muted:!0}),c()("span",{className:"media-gallery__gifv__label"},void 0,"GIF"))}return c()("div",{className:"media-gallery__item",style:{left:s,top:r,right:u,bottom:l,width:a+"%",height:i+"%"}},t.get("id"),d)},t}(v.a.PureComponent),o.contextTypes={router:y.a.object},o.defaultProps={autoPlayGif:!1},a),k=Object(M.h)((s=r=function(e){function t(){var n,o,a;d()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=f()(this,e.call.apply(e,[this].concat(r))),o.state={visible:!o.props.sensitive},o.handleOpen=function(){o.setState({visible:!o.state.visible})},o.handleClick=function(e){o.props.onOpenMedia(o.props.media,e)},a=n,f()(o,a)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){e.sensitive!==this.props.sensitive&&this.setState({visible:!e.sensitive})},t.prototype.render=function(){var e=this,t=this.props,n=t.media,o=t.intl,a=t.sensitive,i=void 0;if(this.state.visible){var r=n.take(4).size;i=n.take(4).map(function(t,n){return c()(j,{onClick:e.handleClick,attachment:t,autoPlayGif:e.props.autoPlayGif,index:n,size:r},t.get("id"))})}else{var s=void 0;s=a?c()(M.b,{id:"status.sensitive_warning",defaultMessage:"Sensitive content"}):c()(M.b,{id:"status.media_hidden",defaultMessage:"Media hidden"}),i=c()("button",{className:"media-spoiler",onClick:this.handleOpen},void 0,c()("span",{className:"media-spoiler__warning"},void 0,s),c()("span",{className:"media-spoiler__trigger"},void 0,c()(M.b,{id:"status.sensitive_toggle",defaultMessage:"Click to view"})))}return c()("div",{className:"media-gallery",style:{height:this.props.height+"px"}},void 0,c()("div",{className:"spoiler-button "+(this.state.visible?"spoiler-button--visible":"")},void 0,c()(_.a,{title:o.formatMessage(C.toggle_visible),icon:this.state.visible?"eye":"eye-slash",overlay:!0,onClick:this.handleOpen})),i)},t}(v.a.PureComponent),r.defaultProps={autoPlayGif:!1},i=s))||i},295:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ScrollContext=t.ScrollContainer=void 0;var a=n(296),i=o(a),r=n(168),s=o(r);t.ScrollContainer=i.default,t.ScrollContext=s.default},296:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(0),l=o(s),c=n(57),u=o(c),d=n(28),p=(o(d),{scrollKey:l.default.PropTypes.string.isRequired,shouldUpdateScroll:l.default.PropTypes.func,children:l.default.PropTypes.element.isRequired}),f={scrollBehavior:l.default.PropTypes.object},h=function(e){function t(n,o){a(this,t);var r=i(this,e.call(this,n,o));return r.shouldUpdateScroll=function(e,t){var n=r.props.shouldUpdateScroll;return!n||n.call(r.context.scrollBehavior.scrollBehavior,e,t)},r.scrollKey=n.scrollKey,r}return r(t,e),t.prototype.componentDidMount=function(){this.context.scrollBehavior.registerElement(this.props.scrollKey,u.default.findDOMNode(this),this.shouldUpdateScroll)},t.prototype.componentWillReceiveProps=function(e){},t.prototype.componentDidUpdate=function(){},t.prototype.componentWillUnmount=function(){this.context.scrollBehavior.unregisterElement(this.scrollKey)},t.prototype.render=function(){return this.props.children},t}(l.default.Component);h.propTypes=p,h.contextTypes=f,t.default=h,e.exports=t.default},297:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(1),a=n.n(o),i=n(2),r=n.n(i),s=n(3),l=n.n(s),c=n(4),u=n.n(c),d=n(56),p=n.n(d),f=n(0),h=n.n(f),g=n(167),m=n(106),v=n(41),b=function(e){function t(){var n,o,a;r()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.handleHeaderClick=function(){var e=o.node.querySelector(".scrollable");e&&(o._interruptScrollAnimation=Object(m.b)(e))},o.handleScroll=p()(function(){void 0!==o._interruptScrollAnimation&&o._interruptScrollAnimation()},200),o.setRef=function(e){o.node=e},a=n,l()(o,a)}return u()(t,e),t.prototype.scrollTop=function(){var e=this.node.querySelector(".scrollable");e&&(this._interruptScrollAnimation=Object(m.b)(e))},t.prototype.render=function(){var e=this.props,t=e.heading,n=e.icon,o=e.children,i=e.active,r=e.hideHeadingOnMobile,s=t&&(!r||r&&!Object(v.b)(window.innerWidth)),l=s&&t.replace(/ /g,"-"),c=s&&a()(g.a,{icon:n,active:i,type:t,onClick:this.handleHeaderClick,columnHeaderId:l});return h.a.createElement("div",{ref:this.setRef,role:"region","aria-labelledby":l,className:"column",onScroll:this.handleScroll},c,o)},t}(h.a.PureComponent)},299:function(e,t,n){"use strict";var o=n(1),a=n.n(o),i=n(0),r=(n.n(i),n(12)),s=n(171),l=n(87),c=n(17),u=n(58),d=n(24),p=n(72),f=n(169),h=n(40),g=n(7),m=Object(g.g)({deleteConfirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"},deleteMessage:{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this status?"},blockConfirm:{id:"confirmations.block.confirm",defaultMessage:"Block"},muteConfirm:{id:"confirmations.mute.confirm",defaultMessage:"Mute"}}),v=function(){var e=Object(l.e)();return function(t,n){return{status:e(t,n.id),me:t.getIn(["meta","me"]),boostModal:t.getIn(["meta","boost_modal"]),deleteModal:t.getIn(["meta","delete_modal"]),autoPlayGif:t.getIn(["meta","auto_play_gif"])}}},b=function(e,t){var n=t.intl;return{onReply:function(t,n){e(Object(c.H)(t,n))},onModalReblog:function(t){e(Object(u.q)(t))},onReblog:function(t,n){t.get("reblogged")?e(Object(u.t)(t)):n.shiftKey||!this.boostModal?this.onModalReblog(t):e(Object(h.d)("BOOST",{status:t,onReblog:this.onModalReblog}))},onFavourite:function(t){e(t.get("favourited")?Object(u.r)(t):Object(u.m)(t))},onPin:function(t){e(t.get("pinned")?Object(u.s)(t):Object(u.p)(t))},onEmbed:function(t){e(Object(h.d)("EMBED",{url:t.get("url")}))},onDelete:function(t){e(this.deleteModal?Object(h.d)("CONFIRM",{message:n.formatMessage(m.deleteMessage),confirm:n.formatMessage(m.deleteConfirm),onConfirm:function(){return e(Object(p.e)(t.get("id")))}}):Object(p.e)(t.get("id")))},onMention:function(t,n){e(Object(c.G)(t,n))},onOpenMedia:function(t,n){e(Object(h.d)("MEDIA",{media:t,index:n}))},onOpenVideo:function(t,n){e(Object(h.d)("VIDEO",{media:t,time:n}))},onBlock:function(t){e(Object(h.d)("CONFIRM",{message:a()(g.b,{id:"confirmations.block.message",defaultMessage:"Are you sure you want to block {name}?",values:{name:a()("strong",{},void 0,"@",t.get("acct"))}}),confirm:n.formatMessage(m.blockConfirm),onConfirm:function(){return e(Object(d.r)(t.get("id")))}}))},onReport:function(t){e(Object(f.i)(t.get("account"),t))},onMute:function(t){e(Object(h.d)("CONFIRM",{message:a()(g.b,{id:"confirmations.mute.message",defaultMessage:"Are you sure you want to mute {name}?",values:{name:a()("strong",{},void 0,"@",t.get("acct"))}}),confirm:n.formatMessage(m.muteConfirm),onConfirm:function(){return e(Object(d.B)(t.get("id")))}}))},onMuteConversation:function(t){e(t.get("muted")?Object(p.h)(t.get("id")):Object(p.g)(t.get("id")))}}};t.a=Object(g.h)(Object(r.connect)(v,b)(s.a))},308:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=n(0),u=o(c),d=n(5),p=o(d),f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function t(){var n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.handleClick=function(e){if(o.props.onClick&&o.props.onClick(e),!e.defaultPrevented&&0===e.button&&!o.props.target&&!f(e)){e.preventDefault();var t=o.context.router.history,n=o.props,a=n.replace,i=n.to;a?t.replace(i):t.push(i)}},a=n,r(o,a)}return s(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=a(e,["replace","to"]),o=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return u.default.createElement("a",l({},n,{onClick:this.handleClick,href:o}))},t}(u.default.Component);h.propTypes={onClick:p.default.func,target:p.default.string,replace:p.default.bool,to:p.default.oneOfType([p.default.string,p.default.object]).isRequired},h.defaultProps={replace:!1},h.contextTypes={router:p.default.shape({history:p.default.shape({push:p.default.func.isRequired,replace:p.default.func.isRequired,createHref:p.default.func.isRequired}).isRequired}).isRequired},t.default=h},329:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var o,a,i=n(1),r=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(330),m=n.n(g),v=n(35),b=n.n(v),y=function(e){return e.split(".").map(function(e){return 0===e.indexOf("xn--")?m.a.decode(e.slice("xn--".length)):e}).join(".")},_=function(e){var t=document.createElement("a");return t.href=e,t.hostname},M=(a=o=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.renderLink=function(){var e=this.props,t=e.card,n=e.maxDescription,o="",a=t.get("provider_name");t.get("image")&&(o=r()("div",{className:"status-card__image"},void 0,r()("img",{src:t.get("image"),alt:t.get("title"),className:"status-card__image-image",width:t.get("width"),height:t.get("height")}))),a.length<1&&(a=y(_(t.get("url"))));var i=b()("status-card",{horizontal:t.get("width")>t.get("height")});return r()("a",{href:t.get("url"),className:i,target:"_blank",rel:"noopener"},void 0,o,r()("div",{className:"status-card__content"},void 0,r()("strong",{className:"status-card__title",title:t.get("title")},void 0,t.get("title")),r()("p",{className:"status-card__description"},void 0,(t.get("description")||"").substring(0,n)),r()("span",{className:"status-card__host"},void 0,a)))},t.prototype.renderPhoto=function(){var e=this.props.card;return r()("a",{href:e.get("url"),className:"status-card-photo",target:"_blank",rel:"noopener"},void 0,r()("img",{src:e.get("url"),alt:e.get("title"),width:e.get("width"),height:e.get("height")}))},t.prototype.renderVideo=function(){var e=this.props.card,t={__html:e.get("html")};return r()("div",{className:"status-card-video",dangerouslySetInnerHTML:t})},t.prototype.render=function(){var e=this.props.card;if(null===e)return null;switch(e.get("type")){case"link":return this.renderLink();case"photo":return this.renderPhoto();case"video":return this.renderVideo();case"rich":default:return null}},t}(h.a.PureComponent),o.defaultProps={maxDescription:50},a)},330:function(e,t,n){(function(e,o){var a;!function(i){function r(e){throw new RangeError(E[e])}function s(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function l(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(P,"."),o+s(e.split("."),t).join(".")}function c(e){for(var t,n,o=[],a=0,i=e.length;a<i;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<i?(n=e.charCodeAt(a++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),a--)):o.push(t);return o}function u(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=A(e>>>10&1023|55296),e=56320|1023&e),t+=A(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:M}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var o=0;for(e=n?T(e/k):e>>1,e+=T(e/t);e>S*C>>1;o+=M)e=T(e/S);return T(o+(S+1)*e/(e+j))}function h(e){var t,n,o,a,i,s,l,c,p,h,g=[],m=e.length,v=0,b=x,y=w;for(n=e.lastIndexOf(N),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&r("not-basic"),g.push(e.charCodeAt(o));for(a=n>0?n+1:0;a<m;){for(i=v,s=1,l=M;a>=m&&r("invalid-input"),c=d(e.charCodeAt(a++)),(c>=M||c>T((_-v)/s))&&r("overflow"),v+=c*s,p=l<=y?O:l>=y+C?C:l-y,!(c<p);l+=M)h=M-p,s>T(_/h)&&r("overflow"),s*=h;t=g.length+1,y=f(v-i,t,0==i),T(v/t)>_-b&&r("overflow"),b+=T(v/t),v%=t,g.splice(v++,0,b)}return u(g)}function g(e){var t,n,o,a,i,s,l,u,d,h,g,m,v,b,y,j=[];for(e=c(e),m=e.length,t=x,n=0,i=w,s=0;s<m;++s)(g=e[s])<128&&j.push(A(g));for(o=a=j.length,a&&j.push(N);o<m;){for(l=_,s=0;s<m;++s)(g=e[s])>=t&&g<l&&(l=g);for(v=o+1,l-t>T((_-n)/v)&&r("overflow"),n+=(l-t)*v,t=l,s=0;s<m;++s)if(g=e[s],g<t&&++n>_&&r("overflow"),g==t){for(u=n,d=M;h=d<=i?O:d>=i+C?C:d-i,!(u<h);d+=M)y=u-h,b=M-h,j.push(A(p(h+y%b,0))),u=T(y/b);j.push(A(p(u,0))),i=f(n,v,o==a),n=0,++o}++n,++t}return j.join("")}function m(e){return l(e,function(e){return R.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return I.test(e)?"xn--"+g(e):e})}var b=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof o&&o);var y,_=2147483647,M=36,O=1,C=26,j=38,k=700,w=72,x=128,N="-",R=/^xn--/,I=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=M-O,T=Math.floor,A=String.fromCharCode;y={version:"1.4.1",ucs2:{decode:c,encode:u},decode:h,encode:g,toASCII:v,toUnicode:m},void 0!==(a=function(){return y}.call(t,n,t,e))&&(e.exports=a)}()}).call(t,n(178)(e),n(59))},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return G});var o,a,i,r,s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=n.n(d),f=n(4),h=n.n(f),g=n(0),m=(n.n(g),n(12)),v=n(5),b=n.n(v),y=n(21),_=n.n(y),M=n(72),O=n(799),C=n(1083),j=n(1086),k=n(297),w=n(58),x=n(17),N=n(169),R=n(87),I=n(295),P=(n.n(I),n(797)),E=n(299),S=n(40),T=n(7),A=n(16),D=n.n(A),q=Object(T.g)({deleteConfirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"},deleteMessage:{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this status?"}}),F=function(){var e=Object(R.e)();return function(t,n){return{status:e(t,Number(n.params.statusId)),ancestorsIds:t.getIn(["contexts","ancestors",Number(n.params.statusId)]),descendantsIds:t.getIn(["contexts","descendants",Number(n.params.statusId)]),me:t.getIn(["meta","me"]),boostModal:t.getIn(["meta","boost_modal"]),deleteModal:t.getIn(["meta","delete_modal"]),autoPlayGif:t.getIn(["meta","auto_play_gif"])}}},G=(o=Object(m.connect)(F),Object(T.h)(a=o((r=i=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=p()(this,e.call.apply(e,[this].concat(r))),o.handleFavouriteClick=function(e){e.get("favourited")?o.props.dispatch(Object(w.r)(e)):o.props.dispatch(Object(w.m)(e))},o.handlePin=function(e){e.get("pinned")?o.props.dispatch(Object(w.s)(e)):o.props.dispatch(Object(w.p)(e))},o.handleReplyClick=function(e){o.props.dispatch(Object(x.H)(e,o.context.router.history))},o.handleModalReblog=function(e){o.props.dispatch(Object(w.q)(e))},o.handleReblogClick=function(e,t){e.get("reblogged")?o.props.dispatch(Object(w.t)(e)):t.shiftKey||!o.props.boostModal?o.handleModalReblog(e):o.props.dispatch(Object(S.d)("BOOST",{status:e,onReblog:o.handleModalReblog}))},o.handleDeleteClick=function(e){var t=o.props,n=t.dispatch,a=t.intl;n(o.props.deleteModal?Object(S.d)("CONFIRM",{message:a.formatMessage(q.deleteMessage),confirm:a.formatMessage(q.deleteConfirm),onConfirm:function(){return n(Object(M.e)(e.get("id")))}}):Object(M.e)(e.get("id")))},o.handleMentionClick=function(e,t){o.props.dispatch(Object(x.G)(e,t))},o.handleOpenMedia=function(e,t){o.props.dispatch(Object(S.d)("MEDIA",{media:e,index:t}))},o.handleOpenVideo=function(e,t){o.props.dispatch(Object(S.d)("VIDEO",{media:e,time:t}))},o.handleReport=function(e){o.props.dispatch(Object(N.i)(e.get("account"),e))},o.handleEmbed=function(e){o.props.dispatch(Object(S.d)("EMBED",{url:e.get("url")}))},a=n,p()(o,a)}return h()(t,e),t.prototype.componentWillMount=function(){this.props.dispatch(Object(M.f)(Number(this.props.params.statusId)))},t.prototype.componentWillReceiveProps=function(e){e.params.statusId!==this.props.params.statusId&&e.params.statusId&&this.props.dispatch(Object(M.f)(Number(e.params.statusId)))},t.prototype.renderChildren=function(e){return e.map(function(e){return l()(E.a,{id:e},e)})},t.prototype.render=function(){var e=void 0,t=void 0,n=this.props,o=n.status,a=n.ancestorsIds,i=n.descendantsIds,r=n.me,s=n.autoPlayGif;return null===o?l()(k.a,{},void 0,l()(P.a,{}),l()(O.a,{})):(a&&a.size>0&&(e=l()("div",{},void 0,this.renderChildren(a))),i&&i.size>0&&(t=l()("div",{},void 0,this.renderChildren(i))),l()(k.a,{},void 0,l()(P.a,{}),l()(I.ScrollContainer,{scrollKey:"thread"},void 0,l()("div",{className:"scrollable detailed-status__wrapper"},void 0,e,l()(C.a,{status:o,autoPlayGif:s,me:r,onOpenVideo:this.handleOpenVideo,onOpenMedia:this.handleOpenMedia}),l()(j.a,{status:o,me:r,onReply:this.handleReplyClick,onFavourite:this.handleFavouriteClick,onReblog:this.handleReblogClick,onDelete:this.handleDeleteClick,onMention:this.handleMentionClick,onReport:this.handleReport,onPin:this.handlePin,onEmbed:this.handleEmbed}),t))))},t}(D.a),i.contextTypes={router:b.a.object},i.propTypes={params:b.a.object.isRequired,dispatch:b.a.func.isRequired,status:_.a.map,ancestorsIds:_.a.list,descendantsIds:_.a.list,me:b.a.number,boostModal:b.a.bool,deleteModal:b.a.bool,autoPlayGif:b.a.bool,intl:b.a.object.isRequired},a=r))||a)||a)},797:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o,a,i=n(1),r=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(7),m=n(5),v=n.n(m),b=(a=o=function(e){function t(){var n,o,a;l()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o=u()(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){window.history&&1===window.history.length?o.context.router.history.push("/"):o.context.router.history.goBack()},a=n,u()(o,a)}return p()(t,e),t.prototype.render=function(){return r()("button",{onClick:this.handleClick,className:"column-back-button"},void 0,r()("i",{className:"fa fa-fw fa-chevron-left column-back-button__icon"}),r()(g.b,{id:"column_back_button.label",defaultMessage:"Back"}))},t}(h.a.PureComponent),o.contextTypes={router:v.a.object},a)},799:function(e,t,n){"use strict";var o=n(1),a=n.n(o),i=n(0),r=(n.n(i),n(7)),s=function(){return a()("div",{className:"missing-indicator"},void 0,a()("div",{},void 0,a()(r.b,{id:"missing_indicator.label",defaultMessage:"Not found"})))};t.a=s}});
//# sourceMappingURL=status-ba6299df9a132939bf57.js.map